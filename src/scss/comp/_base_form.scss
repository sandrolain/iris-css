
/*--

@title:		Form
@category:	Form

**selector**: `form`

```example:html
<form action="#">
	<fieldset>
		<legend>Fieldset Legend</legend>
	</fieldset>
</form>
```

--*/

form:not(.nostyle),
.form {
	margin: 1em 0;
}

fieldset:not(.nostyle),
.fieldset {
	margin: 2em 0 1em 0;
	border: 1px solid var(--ir-light-border-color);
	padding: 1em;
	border-radius: var(--ir-border-radius);
	background-color: var(--ir-bg-color);
}

legend:not(.nostyle),
.legend {
	width: auto;
	max-width: 100%;
	display: block;
	padding: 0 0.33em;
	margin: 0;
	font-size: 1.5em;
	line-height: 1em;
	font-weight: 500;
	color: var(--ir-label-fg-color);
	white-space: normal;
}

label {
	display: inline-block;

	&[for] {
		cursor: pointer;
	}
}

output {
	display: inline-block;
}

summary {
	display: list-item;
	cursor: pointer;
}

/*--

@type:		category
@title:		Inputs
@category:	Form / Inputs

--*/

input,
textarea,
select,
optgroup,
button {
	font-family: inherit;
	font-size: inherit;
	line-height: inherit;
	border-radius: 0;
	margin: 0;
	padding: 0;
	border-style: none;
	text-transform: none;
	max-width: 100%;
	vertical-align: middle;

	&:focus {
		outline: none;
	}
}

input,
select {
	vertical-align: middle;
}


/*--

@title:		Inputs
@category:	Form / Inputs

**selector**: `form`

```example:html
<form action="#">
	<fieldset>
		<legend>Fieldset Legend</legend>
		<div class="fields">
			<div class="field w-33">
				<label for="fld01">Field Label</label>
				<input id="fld01" type="text" size="100" placeholder="Text Input" />
			</div>
			<div class="field w-33">
				<label for="fld02">Field Label</label>
				<input id="fld02" type="email" size="100" placeholder="Email Input" />
			</div>
			<div class="field w-33">
				<label for="fld03">Field Label</label>
				<input id="fld03" type="url" size="100" placeholder="Url Input" />
			</div>
			<div class="field w-33">
				<label for="fld04">Field Label</label>
				<input id="fld04" type="number" size="100" placeholder="Number Input" />
			</div>
			<div class="field w-33">
				<label for="fld05">Field Label</label>
				<input id="fld05" type="datetime-local" size="100" placeholder="Datetime Input" />
			</div>
			<div class="field w-33">
				<label for="fld06">Field Label</label>
				<select id="fld06">
					<option value="0">Zero</option>
					<option value="1">One</option>
					<option value="2">Two</option>
					<option value="3">Three</option>
				</select>
			</div>
			<div class="field w-33">
				<label for="fld07">Field Label</label>
				<label><input id="fld07" type="checkbox" /> Checkbox Label</label>
			</div>
			<div class="field w-33">
				<label for="fld08">Field Label</label>
				<label><input name="fld08"  type="radio" /> Radio Label</label>
				<label><input name="fld08" type="radio" /> Radio Label</label>
			</div>
			<div class="field w-33">
				<label for="fld09">Field Label</label>
				<textarea id="fld09" rows="3" placeholder="Textarea"></textarea>
			</div>
		</div>
	</fieldset>
</form>
```

--*/



/*--

@title:		Disabled Inputs
@category:	Form / Inputs

**selector**: `form`

```example:html
<form action="#">
	<fieldset>
		<legend>Fieldset Legend</legend>
		<div class="fields">
			<div class="field w-33">
				<label for="fld01">Field Label</label>
				<input id="fld01" type="text" size="100" placeholder="Text Input" disabled />
			</div>
			<div class="field w-33">
				<label for="fld02">Field Label</label>
				<input id="fld02" type="email" size="100" placeholder="Email Input" disabled />
			</div>
			<div class="field w-33">
				<label for="fld03">Field Label</label>
				<input id="fld03" type="url" size="100" placeholder="Url Input" disabled />
			</div>
			<div class="field w-33">
				<label for="fld04">Field Label</label>
				<input id="fld04" type="number" size="100" placeholder="Number Input" disabled />
			</div>
			<div class="field w-33">
				<label for="fld05">Field Label</label>
				<input id="fld05" type="datetime-local" size="100" placeholder="Datetime Input" disabled />
			</div>
			<div class="field w-33">
				<label for="fld06">Field Label</label>
				<select id="fld06" disabled>
					<option value="0">Zero</option>
					<option value="1">One</option>
					<option value="2">Two</option>
					<option value="3">Three</option>
				</select>
			</div>
			<div class="field w-33">
				<label for="fld07">Field Label</label>
				<label><input id="fld07" type="checkbox" disabled /> Checkbox Label</label>
			</div>
			<div class="field w-66">
				<label for="fld08">Field Label</label>
				<label><input name="fld08"  type="radio" disabled /> Radio Label</label>
				<label><input name="fld08" type="radio" disabled /> Radio Label</label>
			</div>
		</div>
	</fieldset>
</form>
```

--*/




/*--

@title:		Invalid Inputs
@category:	Form / Inputs

**selector**: `form`

```example:html
<form action="#">
	<fieldset>
		<legend>Fieldset Legend</legend>
		<div class="fields">
			<div class="field w-33">
				<label for="fld01">Field Label</label>
				<input id="fld01" type="text" size="100" placeholder="Text Input"  />
			</div>
			<div class="field w-33">
				<label for="fld02">Field Label</label>
				<input id="fld02" type="email" size="100" placeholder="Email Input" value="Bad Email Address" />
			</div>
			<div class="field w-33">
				<label for="fld03">Field Label</label>
				<input id="fld03" type="url" size="100" placeholder="Url Input" />
			</div>
			<div class="field w-33">
				<label for="fld04">Field Label</label>
				<input id="fld04" type="number" size="100" placeholder="Number Input" max="100" value="999" />
			</div>
			<div class="field w-33">
				<label for="fld05">Field Label</label>
				<input id="fld05" type="datetime-local" size="100" placeholder="Datetime Input" />
			</div>
			<div class="field w-33">
				<label for="fld06">Field Label</label>
				<select id="fld06">
					<option value="0">Zero</option>
					<option value="1">One</option>
					<option value="2">Two</option>
					<option value="3">Three</option>
				</select>
			</div>
			<div class="field w-33">
				<label for="fld07">Field Label (max 100)</label>
				<label><input id="fld07" type="checkbox" required /> Checkbox Label</label>
			</div>
			<div class="field w-66">
				<label for="fld08">Field Label</label>
				<label><input name="fld08"  type="radio" required /> Radio Label</label>
				<label><input name="fld08" type="radio" required /> Radio Label</label>
			</div>
		</div>
	</fieldset>
</form>
```

--*/


input:not([type="checkbox"]):not([type="radio"]):not([type="range"]),
textarea,
select {

	&:not(.nostyle)
	{
		padding: var(--ir-input-padding);
		height: var(--ir-inputs-height);
		line-height: calc(var(--ir-input-height) - 2px);
		border: 1px solid var(--ir-input-border-color);
		border-radius: var(--ir-border-radius);
		background-color: var(--ir-input-bg-color);
		color: var(--ir-input-fg-color);
		max-width: 100%;

		&:focus {
			border-color: var(--ir-action-color);
		}

		&::placeholder {
			color: var(--ir-placeholder-color);
		}

		&:disabled {
			border-color: var(--ir-input-disabled-border-color);
			background-color: var(--ir-input-disabled-bg-color);
			color: var(--ir-input-disabled-fg-color);
		}

		&:invalid {
			border-color: var(--ir-input-invalid-border-color);
			background-color: var(--ir-input-invalid-bg-color);
			color: var(--ir-input-invalid-fg-color);
		}

		// &[required]:valid {
		// 	border-color: var(--ir-success-color-l);
		// 	background-color: var(--ir-input-invalid-bg-color);
		// 	color: var(--ir-input-invalid-fg-color);
		// }
	}
}


select {
	&:not(.nostyle)
	{
		display: inline-block;
		background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22currentColor%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E');
		background-size: 0.5em auto;
		background-position: right 0.5em top 50%;
		padding-right: 1em;
		-webkit-appearance: none;
		-moz-appearance: none;
		-ms-appearance: none;
		appearance: none;
		cursor: pointer;

		&::-ms-expand {
			display: none;
		}
	}
}



textarea {
	overflow: auto;
	resize: none;

	&:not(.nostyle)
	{
		height: auto;
		line-height: 1.5em;
		padding: var(--ir-input-textarea-padding);
		-moz-tab-size: 4;
		tab-size: 4;
	}
}





@mixin range-thumb() {
	-webkit-appearance: none;
	width: 1.5em;
	height: 1.5em;
	border-radius: 0.75em;
	background-color: var(--ir-action-color);
	box-shadow: 0 0.1em 0.1em var(--ir-shadow-color);
	margin-top: -0.5em;
	position: relative;
	z-index: 2;
	border: none;

	&:active {
		background-color: var(--ir-action-active-color);
	}
}

@mixin thumb-track() {
	width: 100%;
	height: 0.5em;
	cursor: pointer;
	box-shadow: inset 0 0.1em 0.1em var(--ir-shadow-color);
	background-color: var(--ir-action-light-color);
	border-radius: var(--ir-border-radius);
}

@mixin thumb-lower() {
	height: 0.5em;
	border-radius: var(--ir-border-radius);
	background-color: var(--ir-action-color);
	box-shadow: inset 0 0.1em 0.1em var(--ir-shadow-color);
	opacity: 0.5;
}

input[type="range"]:not(.nostyle) {
	-webkit-appearance: none;

	&:focus {
		outline: none;
	}

	&::-webkit-slider-thumb {
		@include range-thumb();
	}
	&::-moz-range-thumb {
		@include range-thumb();
	}
	&::-ms-thumb {
		@include range-thumb();
	}

	&::-webkit-slider-runnable-track {
		@include thumb-track();
	}
	&::-moz-range-track {
		@include thumb-track();
	}
	&::-ms-track {
		@include thumb-track();
	}

	&::-ms-fill-lower {
		@include thumb-lower();
	}
	&::-moz-range-progress {
		@include thumb-lower();
	}

	// &::-ms-fill-upper {

	// }
}


input[type="checkbox"]:not(.nostyle),
input[type="radio"]:not(.nostyle) {
	-webkit-appearance: none;
	-moz-appearance: none;
	appearance: none;

	display: inline-flex;
	align-items: center;
	justify-content: center;
	vertical-align: middle;
	padding: 0;
	width: 1.2em;
	height: 1.2em;
	line-height: 0.8em;
	background-color: var(--ir-action-fg-color);
	border: 0.1em solid var(--ir-input-border-color);
	box-shadow: none;
	cursor: pointer;
	text-align: center;
	transition: background-color 200ms ease;

	&::before {
		content: '';
		display: block;
		font-size: 0.6em;
		line-height: inherit;
		transition: font-size 200ms ease;
		color: var(--ir-action-fg-color);
	}

	&:focus {
		border-color: var(--ir-action-color);
	}

	&:checked {
		background-color: var(--ir-action-light-color);
		border-color: var(--ir-action-color);

		&::before {
			font-size: 1.4em;
		}
	}

	&:disabled {
		border-color: var(--ir-input-disabled-border-color);
		background-color: var(--ir-input-disabled-bg-color);
		color: var(--ir-input-disabled-fg-color);
	}

	&:invalid {
		border-color: var(--ir-input-invalid-border-color);
		background-color: var(--ir-input-invalid-bg-color);
		color: var(--ir-input-invalid-fg-color);
	}
}

input[type="checkbox"]:not(.nostyle) {
	border-radius: var(--ir-border-radius);

	&::before {
		content: '✓';
		border-radius: calc(var(--ir-border-radius) / 2);
	}
}

input[type="radio"]:not(.nostyle) {
	border-radius: 50%;

	&::before {
		content: '•';
		border-radius: 50%;
	}
}

